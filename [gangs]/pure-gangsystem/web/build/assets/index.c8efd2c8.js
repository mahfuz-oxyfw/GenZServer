import{r as c,u as g,z as h,a as m,b as y,h as p,y as x,aa as w,k as i,j as l}from"./index.4165e3c0.js";const L="_container_mu10g_1",S={container:L},D=(e,o)=>{const n=g(t=>t.config.theme),r=h("deleteLogs"),a=g(t=>t.config.language),s=m();return y("div",{ref:o,className:S.container,style:{background:n.boxBorder},onClick:()=>{!r||s(p({showPopup:!0,popupText:a.popup.deleteLog,popupType:"confirm",onSubmit:()=>{x("deleteLog",{id:e.id},!0).then(t=>{t&&s(w(e.id))}).catch(t=>{console.log("Log Delete Error: ",t)}),s(i())},onCancel:()=>{s(i())}}))},children:[l("h2",{style:{fontSize:"0.95vw",color:n.logs.topText},children:e.type}),l("h1",{style:{fontSize:"0.945vw",color:n.logs.messageText,marginTop:"-0.2vh"},children:e.message}),l("h3",{style:{fontSize:"0.75vw",color:n.logs.dateText},children:e.date})]})},v=c.exports.forwardRef(D),b="_container_15zj3_1",T={container:b};function P(e){const[o,n]=c.exports.useState(null),r=c.exports.useRef(null);return{ref:c.exports.useCallback(s=>{if(r.current&&(r.current.disconnect(),r.current=null),s===null){n(null);return}r.current=new IntersectionObserver(([t])=>{n(t)},e),r.current.observe(s)},[e==null?void 0:e.rootMargin,e==null?void 0:e.root,e==null?void 0:e.threshold]),entry:o}}const _=e=>{const o=new Date(e*1e3),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1),s=o.toLocaleDateString(),t=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o>=r?`Today at [${t}]`:o>=a?`Yesterday at [${t}]`:`${s} at [${t}]`},d=10,j=()=>{const e=g(t=>t.gangLogs.logs),{ref:o,entry:n}=P({threshold:.5}),r=c.exports.useRef(null),[a,s]=c.exports.useState(0);return c.exports.useEffect(()=>{n&&n.isIntersecting&&s(t=>++t)},[n]),l("div",{className:T.container,ref:r,children:e.length>0&&e.slice(0,(a+1)*d).map((t,u)=>{const f=_(t.date);return l(v,{ref:u===(a+1)*d-1?o:null,id:u,type:t.type,message:t.message,date:f},u)})})};export{j as default};
